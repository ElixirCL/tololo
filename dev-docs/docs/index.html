<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="copyright" content="CC-BY-NC-SA 4.0">
<title>Developer Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="resources/highlight/styles/srcery.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Developer Documentation</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_architectural_decision_records">1. Architectural Decision Records</a>
<ul class="sectlevel2">
<li><a href="#_record_architecture_decisions">1.1. Record Architecture Decisions</a>
<ul class="sectlevel3">
<li><a href="#_context">1.1.1. Context</a></li>
<li><a href="#_decision">1.1.2. Decision</a></li>
<li><a href="#_consequences">1.1.3. Consequences</a></li>
</ul>
</li>
<li><a href="#_use_asciidoc_architectural_decision_records">1.2. Use Asciidoc Architectural Decision Records</a>
<ul class="sectlevel3">
<li><a href="#_context_and_problem_statement">1.2.1. Context and Problem Statement</a></li>
<li><a href="#_considered_options">1.2.2. Considered Options</a></li>
<li><a href="#_decision_outcome">1.2.3. Decision Outcome</a></li>
<li><a href="#_consequences_2">1.2.4. Consequences</a></li>
</ul>
</li>
<li><a href="#_use_personas_and_user_journey">1.3. Use Personas and User Journey</a>
<ul class="sectlevel3">
<li><a href="#_context_and_problem_statement_2">1.3.1. Context and Problem Statement</a></li>
<li><a href="#_consequences_3">1.3.2. Consequences</a></li>
</ul>
</li>
<li><a href="#_use_agplv3_as_license">1.4. Use AGPLv3 as License</a>
<ul class="sectlevel3">
<li><a href="#_context_2">1.4.1. Context</a></li>
<li><a href="#_considered_options_2">1.4.2. Considered Options</a></li>
<li><a href="#_decision_outcome_2">1.4.3. Decision Outcome</a></li>
</ul>
</li>
<li><a href="#_use_plantuml_dbml_and_other_diagram_tools">1.5. Use PlantUML, DBML and Other Diagram Tools</a>
<ul class="sectlevel3">
<li><a href="#_context_3">1.5.1. Context</a></li>
<li><a href="#_considered_options_3">1.5.2. Considered Options</a></li>
<li><a href="#_decision_outcome_3">1.5.3. Decision Outcome</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_database">2. Database</a></li>
<li><a href="#_personas">3. Personas</a></li>
<li><a href="#_diagrams">4. Diagrams</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<!-- toc disabled -->
</div>
</div>
<div class="sect1">
<h2 id="_architectural_decision_records">1. Architectural Decision Records</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An Architectural Decision (AD) is a justified software design choice that addresses a functional or non-functional requirement of architectural significance. This decision is documented in an Architectural Decision Record (ADR), which details a single AD and its underlying rationale. To capture these records in a lean way.</p>
</div>
<div class="paragraph">
<p>See more at <a href="https://adr.github.io/madr/">MADR</a>.</p>
</div>
<div class="sect2">
<h3 id="_record_architecture_decisions">1.1. Record Architecture Decisions</h3>
<div class="ulist">
<ul>
<li>
<p>Status: accepted</p>
</li>
<li>
<p>Date: 2024-09-30</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_context">1.1.1. Context</h4>
<div class="paragraph">
<p>We need to record the architectural decisions made on Opinionated
Digital Center.</p>
</div>
</div>
<div class="sect3">
<h4 id="_decision">1.1.2. Decision</h4>
<div class="paragraph">
<p>We will use Architecture Decision Records, as
<a href="http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions">described
by Michael Nygard</a>.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/opinionated-digital-center/architecture-decision-records/" class="bare">https://github.com/opinionated-digital-center/architecture-decision-records/</a></p>
</li>
<li>
<p><a href="https://adr.github.io/madr/" class="bare">https://adr.github.io/madr/</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences">1.1.3. Consequences</h4>
<div class="paragraph">
<p>See Michael Nygard’s article, linked above.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_asciidoc_architectural_decision_records">1.2. Use Asciidoc Architectural Decision Records</h3>
<div class="ulist">
<ul>
<li>
<p>Status: accepted</p>
</li>
<li>
<p>Date: 2024-09-30</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_context_and_problem_statement">1.2.1. Context and Problem Statement</h4>
<div class="paragraph">
<p>We want to record architectural decisions made in this project
independent whether decisions concern the architecture (&#8220;architectural
decision record&#8221;), the code, or other fields. Which format and
structure should these records follow?</p>
</div>
</div>
<div class="sect3">
<h4 id="_considered_options">1.2.2. Considered Options</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://adr.github.io/madr/">MADR</a> 4.0.0 – The Markdown Architectural
Decision Records</p>
</li>
<li>
<p><a href="http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions">Michael
Nygard’s template</a> – The first incarnation of the term &#8220;ADR&#8221;</p>
</li>
<li>
<p><a href="https://www.infoq.com/articles/sustainable-architectural-design-decisions">Sustainable
Architectural Decisions</a> – The Y-Statements</p>
</li>
<li>
<p>Other templates listed at
<a href="https://github.com/joelparkerhenderson/architecture_decision_record" class="bare">https://github.com/joelparkerhenderson/architecture_decision_record</a></p>
</li>
<li>
<p>Formless – No conventions for file format and structure</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_decision_outcome">1.2.3. Decision Outcome</h4>
<div class="paragraph">
<p>Chosen option: &#8220;MADR 4.0.0&#8221;, because</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implicit assumptions should be made explicit. Design documentation is
important to enable people understanding the decisions later on. See
also <a href="https://doi.org/10.1109/TSE.1986.6312940">&#8220;A rational design
process: How and why to fake it&#8221;</a>.</p>
</li>
<li>
<p>MADR allows for structured capturing of any decision.</p>
</li>
<li>
<p>The MADR format is lean and fits our development style.</p>
</li>
<li>
<p>The MADR structure is comprehensible and facilitates usage &amp;
maintenance.</p>
</li>
<li>
<p>The MADR project is vivid.</p>
</li>
<li>
<p>Can transpile it to ASCIIDoc with <a href="https://pandoc.org/try/">Pandoc</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_2">1.2.4. Consequences</h4>
<div class="paragraph">
<p>Using <em>Asciidoc</em> enables using documentation tools such as <a href="https://antora.org/">Antora Docs</a>
in the future.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_personas_and_user_journey">1.3. Use Personas and User Journey</h3>
<div class="ulist">
<ul>
<li>
<p>Status: accepted</p>
</li>
<li>
<p>Date: 2024-09-30</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_context_and_problem_statement_2">1.3.1. Context and Problem Statement</h4>
<div class="paragraph">
<p>Personas give us a person to connect with, someone who has goals for using the product, ensuring human centered design.
Ideally they are used after interviews and before journey mapping. That said, they are useful tools to refer to at any given point in the creation process. A persona can be a positive persona or a negative persona. A negative persona is a semi-fictional rendition of your less than ideal customers. A collection of behaviours, demographics and real life scenarios that disqualify them from your pool of happy, paying customers. Identifying a negative persona early on ensures you aren’t wasting your precious time building solutions for the wrong audience.</p>
</div>
<div class="paragraph">
<p>User journey mapping is an exercise for determining a list of requirements for our project as well as uncovering hidden issues. It also encourages the team to empathize with users. Journey maps are created after the personas are made for the project.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://opendesignkit.org/methods/personas/">Personas</a>.</p>
</li>
<li>
<p><a href="http://opendesignkit.org/methods/journey-maps/">Journey Maps</a>.</p>
</li>
<li>
<p><a href="https://buildux.com/blog/personas-stories-scenarios-storyboard-definitions-and-best-practices">Personas Best Practices</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_consequences_3">1.3.2. Consequences</h4>
<div class="paragraph">
<p>It is critical to prioritize user demands throughout the design process. Research techniques such as user personas, user stories, scenarios, and storyboards are crucial for achieving this. These methods provide a structured framework for prioritizing the user in the design and development processes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_agplv3_as_license">1.4. Use AGPLv3 as License</h3>
<div class="ulist">
<ul>
<li>
<p>Status: accepted</p>
</li>
<li>
<p>Date: 2024-10-03</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_context_2">1.4.1. Context</h4>
<div class="paragraph">
<p>Everything needs to be licensed, otherwise the default copyright laws
apply. For more information see <a href="https://help.github.com/articles/licensing-a-repository/" class="bare">https://help.github.com/articles/licensing-a-repository/</a>.</p>
</div>
<div class="paragraph">
<p>The GNU Affero General Public License version 3 (AGPLv3) is the most protective of computer user freedom.
The AGPLv3 was created to solve a very specific problem: how to protect a user’s rights when the program in question is being utilized over a network. Simply put, the AGPLv3 is effectively the GPLv3, but with an additional licensing term that ensures that users who interact over a network with modified versions of the program can receive the source code for that program.</p>
</div>
<div class="paragraph">
<p>When confronted with a choice between the AGPLv3 and GPLv3, a developer may think that their program doesn’t need the extra protection afforded by the AGPLv3. By choosing the AGPLv3 (or any later version) in these situations, the developer can future-proof their program in case someone takes the project in that direction.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.gnu.org/licenses/why-affero-gpl.html" class="bare">https://www.gnu.org/licenses/why-affero-gpl.html</a></p>
</li>
<li>
<p><a href="https://www.fsf.org/bulletin/2021/fall/the-fundamentals-of-the-agplv3" class="bare">https://www.fsf.org/bulletin/2021/fall/the-fundamentals-of-the-agplv3</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If required in the future may evaluate dual license using another one like MPLv2,
see <a href="https://en.wikipedia.org/wiki/Multi-licensing" class="bare">https://en.wikipedia.org/wiki/Multi-licensing</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_considered_options_2">1.4.2. Considered Options</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.mozilla.org/en-US/MPL/2.0/">MPLv2</a>.</p>
</li>
<li>
<p>Other open source licenses.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_decision_outcome_2">1.4.3. Decision Outcome</h4>
<div class="paragraph">
<p>Chosen option: &#8220;AGPLv3&#8221;, because this license enables protecting the user rights.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_use_plantuml_dbml_and_other_diagram_tools">1.5. Use PlantUML, DBML and Other Diagram Tools</h3>
<div class="ulist">
<ul>
<li>
<p>Status: accepted</p>
</li>
<li>
<p>Date: 2024-10-06</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_context_3">1.5.1. Context</h4>
<div class="paragraph">
<p>Diagrams using <a href="https://docs.asciidoctor.org/diagram-extension/latest/">Asciidoctor Diagram Extension</a>
will enable better documentation of components and business requirements.</p>
</div>
<div class="paragraph">
<p>The selected options will enable a vast amount of use cases.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.asciidoctor.org/diagram-extension/latest/diagram_types/plantuml/">PlantUML + C4</a>: Vast amount of UML diagrams and C4 (arquitecture) diagrams support.</p>
</li>
<li>
<p><a href="https://docs.asciidoctor.org/diagram-extension/latest/diagram_types/dbml/">DBML</a>: Useful for modeling ERD (database) diagrams.</p>
</li>
<li>
<p><a href="https://docs.asciidoctor.org/diagram-extension/latest/diagram_types/bpmn/">BPMN</a>: Useful for modeling business processes.</p>
</li>
<li>
<p><a href="https://docs.asciidoctor.org/diagram-extension/latest/diagram_types/graphviz/">Graphviz</a>: Generic language for diagrams.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_considered_options_3">1.5.2. Considered Options</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.asciidoctor.org/diagram-extension/latest/diagram_types/mermaid/">Mermaid</a>: It was considered but since it requires a browser engine to render, it proved complicated to configure in <em>Docker</em> environment. It is useful for documenting in Github issues and other places outside these dev docs.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_decision_outcome_3">1.5.3. Decision Outcome</h4>
<div class="paragraph">
<p>Use PlantUML, DBML, BPMN and Graphviz for developer docs, use Mermaid in Github issues and other relevant places if required.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_database">2. Database</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following code was made using <a href="https://dbml.dbdiagram.io/docs">DBML</a>.
<a href="https://docs.asciidoctor.org/diagram-extension/latest/" class="bare">https://docs.asciidoctor.org/diagram-extension/latest/</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-dbml-md5-51810a5feff47e0f9e53d948fb7b04e5.svg" alt="Diagram" width="3254" height="2711">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">/* 
// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs
// Base fields
  id text [primary key, note: 'uuidv7']
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
*/

Table roles {
  id text [primary key, note: 'uuidv7']
  name text [not null]
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

Table permissions {
  id text [primary key, note: 'uuidv7']
  name text [not null]
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

Table role_permissions {
  id text [primary key, note: 'uuidv7']
  role_id text [not null]
  permission_id text [not null]
}

Ref: role_permissions.role_id &gt; roles.id
Ref: role_permissions.permission_id &gt; permissions.id

/* 
// A table for storing user and password
*/
Table users {
  id text [primary key, note: 'uuidv7']
  name text [not null]
  password text [note: 'bcrypt']
  contact_id text
  last_login_at timestamp [not null, default: `now()`]
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

Table users_roles {
  id text [primary key, note: 'uuidv7']
  user_id text [not null]
  role_id text [not null]
}

Ref: users_roles.user_id &gt; users.id
Ref: users_roles.role_id &gt; roles.id

/* 
// A customer is someone that made an order
// Can be associated with an user or not
*/
Table customers {
  id text [primary key, note: 'uuidv7']
  user_id text [null]
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

/* 
// Add table for a customer to have many contacts
// and a primary contact

// Add a table for chilean RUT
// Made them compatible to identify the user
// even when the RUT is requested to be deleted
// maybe using a special token?

// Add table to have
*/
Ref: customers.user_id &gt; users.id
Ref: users.contact_id &lt; contacts.id

/* 
// Check Apple Docs for proper names for contact fields
// https://developer.apple.com/documentation/contacts/cncontact
*/
Table contacts {
  id text [primary key, note: 'uuidv7']
  type_id text [not null]
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

Table contacts_types {
  id text [primary key, note: 'uuidv7']
  value text [note: 'person or organization']
  inserted_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

Ref: contacts.type_id &gt; contacts_types.id

/* 
// A Table to register any activity done
// Useful for trails
// register any insert, update or delete activity
// so we do not need soft deletes in tables, if you want to recover some info
// just check the activity_logs table
*/
Table activity_logs {
  id text [primary key, note: 'uuidv7']
  origin text [not null, note: 'where the event was generated']
  action text [not null, note: 'an identifier of the action or general context']
  content json [not null, note: 'json string with relevant data of the event']
  inserted_at timestamp [not null, default: `now()`]
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-postgresql hljs" data-lang="postgresql">-- SQL dump generated using DBML (dbml.dbdiagram.io)
-- Database: PostgreSQL
-- Generated at: 2024-10-04T22:17:08.323Z

CREATE TABLE "roles" (
  "id" text PRIMARY KEY,
  "name" text NOT NULL,
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "permissions" (
  "id" text PRIMARY KEY,
  "name" text NOT NULL,
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "role_permissions" (
  "id" text PRIMARY KEY,
  "role_id" text NOT NULL,
  "permission_id" text NOT NULL
);

CREATE TABLE "users" (
  "id" text PRIMARY KEY,
  "name" text NOT NULL,
  "password" text,
  "contact_id" text,
  "last_login_at" timestamp NOT NULL DEFAULT (now()),
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "users_roles" (
  "id" text PRIMARY KEY,
  "user_id" text NOT NULL,
  "role_id" text NOT NULL
);

CREATE TABLE "customers" (
  "id" text PRIMARY KEY,
  "user_id" text,
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "contacts" (
  "id" text PRIMARY KEY,
  "type_id" text NOT NULL,
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "contacts_types" (
  "id" text PRIMARY KEY,
  "value" text,
  "inserted_at" timestamp NOT NULL DEFAULT (now()),
  "updated_at" timestamp NOT NULL DEFAULT (now())
);

CREATE TABLE "activity_logs" (
  "id" text PRIMARY KEY,
  "origin" text NOT NULL,
  "action" text NOT NULL,
  "content" json NOT NULL,
  "inserted_at" timestamp NOT NULL DEFAULT (now())
);

COMMENT ON COLUMN "roles"."id" IS 'uuidv7';

COMMENT ON COLUMN "permissions"."id" IS 'uuidv7';

COMMENT ON COLUMN "role_permissions"."id" IS 'uuidv7';

COMMENT ON COLUMN "users"."id" IS 'uuidv7';

COMMENT ON COLUMN "users"."password" IS 'bcrypt';

COMMENT ON COLUMN "users_roles"."id" IS 'uuidv7';

COMMENT ON COLUMN "customers"."id" IS 'uuidv7';

COMMENT ON COLUMN "contacts"."id" IS 'uuidv7';

COMMENT ON COLUMN "contacts_types"."id" IS 'uuidv7';

COMMENT ON COLUMN "contacts_types"."value" IS 'person or organization';

COMMENT ON COLUMN "activity_logs"."id" IS 'uuidv7';

COMMENT ON COLUMN "activity_logs"."origin" IS 'where the event was generated';

COMMENT ON COLUMN "activity_logs"."action" IS 'an identifier of the action or general context';

COMMENT ON COLUMN "activity_logs"."content" IS 'json string with relevant data of the event';

ALTER TABLE "role_permissions" ADD FOREIGN KEY ("role_id") REFERENCES "roles" ("id");

ALTER TABLE "role_permissions" ADD FOREIGN KEY ("permission_id") REFERENCES "permissions" ("id");

ALTER TABLE "users_roles" ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id");

ALTER TABLE "users_roles" ADD FOREIGN KEY ("role_id") REFERENCES "roles" ("id");

ALTER TABLE "customers" ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id");

ALTER TABLE "contacts" ADD FOREIGN KEY ("id") REFERENCES "users" ("contact_id");

ALTER TABLE "contacts" ADD FOREIGN KEY ("type_id") REFERENCES "contacts_types" ("id");</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_personas">3. Personas</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_diagrams">4. Diagrams</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Check <a href="https://github.com/plantuml-stdlib/C4-PlantUML" class="bare">https://github.com/plantuml-stdlib/C4-PlantUML</a></p>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-a5aa1997ed555e37f49e0e4f78dbfc80.png" alt="Diagram" width="373" height="333">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="diag-plantuml-md5-fb74be7fda37c87040252e30d1734141.png" alt="Diagram" width="549" height="600">
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-10-06 17:03:27 UTC
</div>
</div>
<script src="resources/highlight/highlight.min.js"></script>
<script src="resources/highlight/languages/javascript.min.js"></script>
<script src="resources/highlight/languages/elixir.min.js"></script>
<script src="resources/highlight/languages/bash.min.js"></script>
<script src="resources/highlight/languages/txt.min.js"></script>
<script src="resources/highlight/languages/postgresql.min.js"></script>
<script src="resources/highlight/languages/sql.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>